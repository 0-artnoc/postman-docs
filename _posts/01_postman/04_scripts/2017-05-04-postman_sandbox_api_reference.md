---
categories:
  - "docs"
  - "postman"
  - "scripts"
title: "Postman Sandbox API reference"
page_id: "postman_sandbox_api_reference"
warning: false
---

### Postman Sandbox API Reference (pm.*)

<table style="margin-left: 30.0px;" class="confluenceTable"><colgroup><col/><col/><col/><col/></colgroup><tbody style="margin-left: 30.0px;"><tr style="margin-left: 30.0px;"><th style="margin-left: 60.0px;" class="confluenceTh">Global</th><th style="margin-left: 60.0px;" colspan="1" class="confluenceTh">Type</th><th style="margin-left: 60.0px;" class="confluenceTh">Description</th><th style="margin-left: 60.0px;" class="confluenceTh">Notes</th></tr><tr style="margin-left: 60.0px;"><th style="margin-left: 60.0px;" class="confluenceTh"><code>require</code></th><th style="margin-left: 60.0px;" colspan="1" class="confluenceTh">Function</th><td style="margin-left: 60.0px;" class="confluenceTd"><p style="margin-left: 60.0px;"><strong><code>require(moduleName:String) → *</code></strong></p><p style="margin-left: 60.0px;"><strong><br/></strong></p><p style="margin-left: 60.0px;">The require function allows you to use the sandbox built-in library modules. The list of available libraries are listed below. The list links to their corresponding documentation.</p><ol><li style="list-style-type: none;background-image: none;"><ol><li style="list-style-type: none;background-image: none;"><ol><li><a class="external-link" href="https://www.npmjs.com/package/atob" rel="nofollow">atob</a>→ v2.0.3</li><li><a class="external-link" href="https://www.npmjs.com/package/btoa" rel="nofollow">btoa</a>→ v1.1.2</li><li><a class="external-link" href="http://chaijs.com/" rel="nofollow">chai</a>→ v3.5.0</li><li><a class="external-link" href="https://cheerio.js.org/" rel="nofollow">cheerio</a>→ v0.22.0</li><li><a class="external-link" href="https://www.npmjs.com/package/crypto-js" rel="nofollow">crypto-js</a>→ v3.1.9-1</li><li><a class="external-link" href="https://lodash.com/" rel="nofollow">lodash</a>→ v4.17.2</li><li><a class="external-link" href="http://www.postmanlabs.com/postman-collection/" rel="nofollow">postman-collection</a>→ v1.2.0</li><li><a class="external-link" href="https://github.com/geraintluff/tv4" rel="nofollow">tv4</a>→ v1.2.7</li><li><a class="external-link" href="https://www.npmjs.com/package/uuid" rel="nofollow">uuid</a>→ (the module loaded is a shim for original module)</li><li><a class="external-link" href="https://www.npmjs.com/package/xml2js" rel="nofollow">xml2js</a>→ 0.4.17</li></ol></li></ol></li></ol><p style="margin-left: 60.0px;">A number of NodeJS modules are also available:</p><ol><li style="list-style-type: none;background-image: none;"><ol><li style="list-style-type: none;background-image: none;"><ol><li>path</li><li>assert</li><li>buffer</li><li>util</li></ol></li></ol></li></ol></td><td style="margin-left: 60.0px;" class="confluenceTd"><div class="content-wrapper" style="margin-left: 60.0px;"><p style="margin-left: 60.0px;">In order to use a library, you would need to simply call the require function and pass the module name as a parameter and assign the return of the function to a variable.</p><div class="table-wrap">
<table style="margin-left: 60.0px;" class="confluenceTable"><tbody style="margin-left: 60.0px;"><tr style="margin-left: 60.0px;"><td style="margin-left: 60.0px;" class="confluenceTd"><p style="margin-left: 60.0px;"><code class="java plain">var atob = require(</code><code class="java string">'atob'</code><code class="java plain">),</code><br/><code class="java spaces">    </code><code class="java plain">_ = require(</code><code class="java string">'lodash'</code><code class="java plain">),</code><br/> <br/> <br/><code class="java spaces">    </code><code class="java plain">arrayOfStrings,</code><br/><code class="java spaces">    </code><code class="java plain">base64Strings;</code><br/> <br/> <br/><code class="java plain">arrayOfStrings =  = [</code><code class="java string">'string1'</code><code class="java plain">, </code><code class="java string">'string2'</code><code class="java plain">];</code><br/> <br/> <br/><code class="java plain">base64Strings = _.map(arrayOfStrings, atob);</code><br/> <br/> <br/><code class="java plain">console.log(base64Strings);</code></p></td></tr></tbody></table>
<table style="margin-left: 30.0px;" class="confluenceTable"><tbody style="margin-left: 30.0px;"><tr style="margin-left: 30.0px;"><td style="margin-left: 30.0px;" class="confluenceTd"><p style="margin-left: 30.0px;"><code class="java plain">pm.test(</code><code class="java string">&quot;response should be okay to process&quot;</code><code class="java plain">, function () {</code><br/><code class="java spaces">    </code><code class="java plain"><a href="http://pm.response.to.not.be" class="external-link" rel="nofollow">pm.response.to.not.be</a>.error;</code><br/><code class="java spaces">    </code><code class="java plain"><a href="http://pm.response.to" class="external-link" rel="nofollow">pm.response.to</a>.have.jsonBody(</code><code class="java string">''</code><code class="java plain">);</code><br/><code class="java spaces">    </code><code class="java plain"><a href="http://pm.response.to" class="external-link" rel="nofollow">pm.response.to</a>.not.have.jsonBody(</code><code class="java string">'error'</code><code class="java plain">);</code><br/><code class="java plain">});</code></p></td></tr></tbody></table></div></div></td></tr><tr style="margin-left: 30.0px;"><th style="margin-left: 30.0px;" colspan="1" class="confluenceTh"><div class="content-wrapper" style="margin-left: 30.0px;"><p style="text-align: left;"><code>pm.expect</code></p></div></th><th style="margin-left: 30.0px;" colspan="1" class="confluenceTh">Function</th><td style="margin-left: 30.0px;" colspan="1" class="confluenceTd"><div class="content-wrapper" style="margin-left: 30.0px;"><p style="margin-left: 30.0px;"><strong><code>pm.expect(assertion:*) → Assertion</code></strong></p><p style="margin-left: 30.0px;"><strong><br/></strong></p><p style="margin-left: 30.0px;"><code>pm.expect</code> is a generic assertion function. Underlying this is the <a class="external-link" href="http://chaijs.com/api/bdd/" rel="nofollow">ChaiJS expect bdd library</a>. Using this, it is easy to write tests where the syntax becomes readable and verbose.</p><p style="margin-left: 30.0px;">Read more on the usage of <code>pm.expect</code> at <a class="external-link" href="http://chaijs.com/api/bdd/" rel="nofollow">http://chaijs.com/api/bdd/</a></p></div></td><td style="margin-left: 30.0px;" colspan="1" class="confluenceTd"><div class="content-wrapper" style="margin-left: 30.0px;"><p style="margin-left: 30.0px;">This function is useful to deal with assertions of data from response or variables.</p><div class="table-wrap"><table style="margin-left: 30.0px;" class="confluenceTable"><tbody style="margin-left: 30.0px;"><tr style="margin-left: 30.0px;"><td style="margin-left: 30.0px;" class="confluenceTd"><p style="margin-left: 30.0px;"><code class="java plain">pm.test(</code><code class="java string">'environment to be production'</code><code class="java plain">, function () {</code><br/><code class="java spaces">    </code><code class="java plain">pm.expect(pm.environment.get(</code><code class="java string">'env'</code><code class="java plain">)).to.equal(</code><code class="java string">'production'</code><code class="java plain">);</code><br/><code class="java plain">});</code></p></td></tr></tbody></table></div></div></td></tr></tbody></table></div><h3 id="PostmanSandboxAPIreference-ResponseAssertionsAPI">Response Assertions API</h3><div class="table-wrap">
<table style="margin-left: 30.0px;" class="confluenceTable"><colgroup><col/><col/><col/><col/></colgroup><thead><tr><th class="confluenceTh"><p>Assertion</p></th><th colspan="1" class="confluenceTh"><p>Type</p></th><th class="confluenceTh"><p>Description</p></th><th colspan="1" class="confluenceTh"><p>Notes</p></th></tr></thead><tbody><tr><th class="confluenceTh"><code><a href="http://pm.response.to" class="external-link" rel="nofollow">pm.response.to</a>.have.status</code></th><th colspan="1" class="confluenceTh">Function</th><td class="confluenceTd"><p><code><strong><a href="http://pm.response.to" class="external-link" rel="nofollow">pm.response.to</a>.have.status(code:Number)<br/><a href="http://pm.response.to" class="external-link" rel="nofollow">pm.response.to</a>.have.status(reason:String)</strong></code></p><p><code><br/></code></p></td><td colspan="1" class="confluenceTd"><br/></td></tr><tr><th colspan="1" class="confluenceTh"><code><a href="http://pm.response.to" class="external-link" rel="nofollow">pm.response.to</a>.have.header</code></th><th colspan="1" class="confluenceTh">Function</th><td colspan="1" class="confluenceTd"><p><code><strong><a href="http://pm.response.to" class="external-link" rel="nofollow">pm.response.to</a>.have.header(key:String, optionalValue:String)</strong></code></p><p><code><br/></code></p></td><td colspan="1" class="confluenceTd"><br/></td></tr><tr><th colspan="1" class="confluenceTh"><code><a href="http://pm.response.to" class="external-link" rel="nofollow">pm.response.to</a>.have.body</code></th><th colspan="1" class="confluenceTh">Function</th><td colspan="1" class="confluenceTd"><p><code><strong><a href="http://pm.response.to" class="external-link" rel="nofollow">pm.response.to</a>.have.body()<br/><strong><a href="http://pm.response.to" class="external-link" rel="nofollow">pm.response.to</a>.have.body(optionalValue:String)<br/><strong><a href="http://pm.response.to" class="external-link" rel="nofollow">pm.response.to</a>.have.body(optionalValue:RegExp)</strong></strong></strong></code></p><p><code><strong> </strong></code></p></td><td colspan="1" class="confluenceTd"><br/></td></tr><tr><th colspan="1" class="confluenceTh"><code><a href="http://pm.response.to" class="external-link" rel="nofollow">pm.response.to</a>.have.jsonBody</code></th><th colspan="1" class="confluenceTh">Function</th><td colspan="1" class="confluenceTd"><p><code><strong><a href="http://pm.response.to" class="external-link" rel="nofollow">pm.response.to</a>.have.jsonBody()<br/><strong><a href="http://pm.response.to" class="external-link" rel="nofollow">pm.response.to</a>.have.jsonBody(optionalExpectEqual:Object)<br/><strong><strong><a href="http://pm.response.to" class="external-link" rel="nofollow">pm.response.to</a>.have.jsonBody(optionalExpectPath:String)</strong></strong></strong> <br/><strong><strong><strong><strong><a href="http://pm.response.to" class="external-link" rel="nofollow">pm.response.to</a>.have.jsonBody(optionalExpectPath:String, optionalValue:*)</strong></strong></strong> </strong> </strong></code></p></td><td colspan="1" class="confluenceTd"><br/></td></tr><tr><th colspan="1" class="confluenceTh"><code><a href="http://pm.response.to.be" class="external-link" rel="nofollow">pm.response.to.be</a>.*</code></th><th colspan="1" class="confluenceTh">Object</th><td colspan="1" class="confluenceTd"><p>The properties inside <code><a href="http://pm.response.to.be" class="external-link" rel="nofollow">pm.response.to.be</a></code> object allows you to easily assert a set of pre-defined rules</p><ul><li><code><a href="http://pm.response.to.be.info" class="external-link" rel="nofollow">pm.response.to.be.info</a><br/></code>Checks 1XX status code<br/> </li><li><code><a href="http://pm.response.to.be" class="external-link" rel="nofollow">pm.response.to.be</a>.success<br/></code>Checks 2XX status code<br/> </li><li><code><a href="http://pm.response.to.be" class="external-link" rel="nofollow">pm.response.to.be</a>.redirection<br/></code>Checks 3XX status code<br/> </li><li><code><a href="http://pm.response.to.be" class="external-link" rel="nofollow">pm.response.to.be</a>.clientError<br/></code>Checks 4XX status code<br/><br/></li><li><code><a href="http://pm.response.to.be" class="external-link" rel="nofollow">pm.response.to.be</a>.serverError</code> <br/>Checks 5XX<br/><br/></li><li><code><a href="http://pm.response.to.be" class="external-link" rel="nofollow">pm.response.to.be</a>.error<br/></code>Checks 4XX or 5XX<br/><br/></li><li><code><a href="http://pm.response.to.be" class="external-link" rel="nofollow">pm.response.to.be</a>.ok<br/></code>Status code must be 200<br/><br/></li><li><code><a href="http://pm.response.to.be" class="external-link" rel="nofollow">pm.response.to.be</a>.accepted<br/></code>Status code must be 202<br/><br/></li><li><code><a href="http://pm.response.to.be" class="external-link" rel="nofollow">pm.response.to.be</a>.badRequest<br/></code>Status code must be 400<br/><br/></li><li><code><a href="http://pm.response.to.be" class="external-link" rel="nofollow">pm.response.to.be</a>.unauthorised<br/></code>Status code must be 401<br/><br/></li><li><code><a href="http://pm.response.to.be" class="external-link" rel="nofollow">pm.response.to.be</a>.forbidden<br/></code>Status code 403<br/> </li><li><code><a href="http://pm.response.to.be" class="external-link" rel="nofollow">pm.response.to.be</a>.notFound<br/></code>Status code of response is checked to be 404<br/><br/></li><li><code><a href="http://pm.response.to.be" class="external-link" rel="nofollow">pm.response.to.be</a>.rateLimited</code><br/>Checks whether response status code is 429</li></ul></td><td colspan="1" class="confluenceTd"><br/></td></tr></tbody></table>
